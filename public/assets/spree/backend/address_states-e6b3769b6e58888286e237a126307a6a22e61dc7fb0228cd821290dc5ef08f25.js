function update_state(e,r){"use strict";var t=$("#"+e+"country select").val(),n=$("#"+e+"state").parent(),c=$("#"+e+"state select"),i=$("#"+e+"state input.state_name");$.get(Spree.routes.states_search+"?country_id="+t,function(e){var t=e.states,a=e.states_required;if(0<t.length){c.html("");var s=[{name:"",id:""}].concat(t);$.each(s,function(e,t){var a=$(document.createElement("option")).prop("value",t.id).html(t.name);c.append(a).trigger("change")}),c.prop("disabled",!1).show(),c.select2(),i.hide().prop("disabled",!0),n.show()}else c.val(null).trigger("change"),c.data("select2")&&c.select2("destroy"),c.hide(),a?i.prop("disabled",!1).show():n.hide();r&&r()})}