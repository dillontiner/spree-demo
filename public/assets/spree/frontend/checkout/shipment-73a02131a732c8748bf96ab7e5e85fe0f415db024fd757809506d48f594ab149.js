function ShippingTotalManager(t){this.input=t,this.shippingMethods=this.input.shippingMethods,this.shipmentTotal=this.input.shipmentTotal,this.isFreeShipping=this.input.isFreeShipping,this.taxTotal=this.input.taxTotal,this.nonShipmentTax=$(this.taxTotal).data("non-shipment-tax"),this.orderTotal=this.input.orderTotal,this.formatOptions={symbol:this.shipmentTotal.data("currency"),decimal:this.shipmentTotal.attr("decimal-mark"),thousand:this.shipmentTotal.attr("thousands-separator"),precision:this.shipmentTotal.attr("precision")}}ShippingTotalManager.prototype.calculateShipmentTotal=function(){var t=$(this.shippingMethods).filter(":checked");return this.sum=0,this.tax=this.parseCurrencyToFloat(this.nonShipmentTax),$.each(t,function(t,i){this.sum+=this.parseCurrencyToFloat($(i).data("cost")),this.tax+=this.parseCurrencyToFloat($(i).data("tax"))}.bind(this)),this.readjustSummarySection(this.parseCurrencyToFloat(this.orderTotal.html()),this.sum,this.parseCurrencyToFloat(this.shipmentTotal.html()),this.tax,this.parseCurrencyToFloat(this.taxTotal.html()))},ShippingTotalManager.prototype.parseCurrencyToFloat=function(t){return accounting.unformat(t,this.formatOptions.decimal)},ShippingTotalManager.prototype.totalShipmentAmount=function(t,i){var a=0;return this.isFreeShipping.html()?a:a=t-i},ShippingTotalManager.prototype.readjustSummarySection=function(t,i,a,o,n){var h=t+this.totalShipmentAmount(i,a)+(o-n);return this.taxTotal.html(accounting.formatMoney(o,this.formatOptions)),this.shipmentTotal.html(accounting.formatMoney(i,this.formatOptions)),this.orderTotal.html(accounting.formatMoney(accounting.toFixed(h,10),this.formatOptions))},ShippingTotalManager.prototype.bindEvent=function(){this.shippingMethods.change(function(){return this.calculateShipmentTotal()}.bind(this))},Spree.ready(function(t){return new ShippingTotalManager({orderTotal:t("#summary-order-total"),taxTotal:t('[data-hook="tax-total"]'),shipmentTotal:t('[data-hook="shipping-total"]'),shippingMethods:t('input[data-behavior="shipping-method-selector"]'),isFreeShipping:t('[data-hook="is-free-shipping"]')}).bindEvent()});